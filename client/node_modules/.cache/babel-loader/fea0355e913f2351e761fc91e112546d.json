{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anton\\\\Desktop\\\\FInt.Tchat\\\\dev\\\\V10\\\\client\\\\src\\\\components\\\\sidebar\\\\windows\\\\setting.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from \"react-dom\";\n\nconst {\n  validityPseudo\n} = require(\"../../../functions/validity.js\");\n\nexport default class Setting extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeInputPseudo = async event => {\n      const pseudo = event.target.value;\n      const rep = validityPseudo(pseudo);\n      this.setState({\n        pseudo: {\n          value: pseudo,\n          warning: rep.warning,\n          valid: rep.valid\n        }\n      });\n    };\n\n    this.handleUpdateUser = async () => {\n      const {\n        pseudo\n      } = this.state;\n\n      if (pseudo.valid === true) {\n        // Requête a l'api pour rechercher le pseudo\n        await api.getUserByPseudo(pseudo.value).then(res => {\n          // Je vérifie si le pseudo est déjà utilisé\n          // sinon on crée l'utilisateur\n          if (res.data.data !== null) {\n            this.setState({\n              pseudo: {\n                value: pseudo.value,\n                warning: 'ce pseudo est déjà utilisé'\n              }\n            });\n          } else {\n            api.updateChannelById(channel.id, {\n              data: {\n                pseudo: pseudo.value\n              }\n            }).then(res => {}); // Mise à jour l'utilisateur\n\n            const payload = {\n              id,\n              pseudo: pseudo.value,\n              password: password.value,\n              activity: \"online\",\n              channels: []\n            };\n            api.insertUser(payload).then(res => {\n              // Envoi de l'id\n              this.props.onIdSubmit(id);\n            }, error => {\n              console.log(\"Problème d'enregistrement dans la base de données\");\n              console.log(error);\n            });\n          }\n        });\n      }\n    };\n\n    this.state = {\n      pseudo: {\n        value: '',\n        warning: '',\n        valid: false\n      }\n    };\n  }\n\n  render() {\n    const {\n      pseudo\n    } = this.state; // Récupération des données du client dans l’état local\n\n    const client = this.props.client;\n    return this.props.isShowing ? ReactDOM.createPortal( /*#__PURE__*/React.createElement(\"div\", {\n      className: \"window\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"window-backdrop\",\n      onClick: this.props.hide,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"window-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"windowToolHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"windowToolHeader-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, \"Param\\xE8tres\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"windowToolHeader-subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, \"Clic sur ton pseudo pour le modifier\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clientSetting-body scroller\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clientSetting-body-divider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }\n    }, \"Compte\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 54\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clientSetting-body-account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clientSetting-body-account-avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"avatar\",\n      src: \"https://cdn.discordapp.com/avatars/456863924210630657/1d92f56700533a272820d955d2dc4f29.png?size=128\",\n      alt: \"user account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"avatarUploaderInput\",\n      type: \"file\",\n      multiple: \"\",\n      accept: \".jpg,.jpeg,.png,.gif\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatarUploaderIcon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clientSetting-body-account-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pseudo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 23\n      }\n    }, \"Pseudo\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input\",\n      type: \"text\",\n      maxLength: \"32\",\n      required: true,\n      defaultValue: client.pseudo,\n      onChange: this.handleChangeInputPseudo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 23\n      }\n    }, \"Tag\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 23\n      }\n    }, \"#1012\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"id\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 23\n      }\n    }, \"Id\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 23\n      }\n    }, client.id)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clientSetting-body-divider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, \"Informations\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 60\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clientSetting-body-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clientSetting-body-info-compatibility\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, \"Compatible\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navigator\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 23\n      }\n    }, \"Mozilla Firefox\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 23\n      }\n    }, \"Google Chrome\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 23\n      }\n    }, \"Apple Safari\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 23\n      }\n    }, \"Microsoft Edge\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clientSetting-body-info-support\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, \"Support\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navigator\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 23\n      }\n    }, \"Windows\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 23\n      }\n    }, \"MacOS\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 23\n      }\n    }, \"Android\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 23\n      }\n    }, \"iOS\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"windowToolFooter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-icon-default-red\",\n      type: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      viewBox: \"0 0 384 384\",\n      \"aria-hidden\": \"false\",\n      width: \"21\",\n      height: \"21\",\n      x: \"0\",\n      y: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      fill: \"currentColor\",\n      d: \"M341.333,0H42.667C19.093,0,0,19.093,0,42.667V128h42.667V42.667h298.667v298.667H42.667V256H0v85.333\\r C0,364.907,19.093,384,42.667,384h298.667C364.907,384,384,364.907,384,341.333V42.667C384,19.093,364.907,0,341.333,0z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"polygon\", {\n      fill: \"currentColor\",\n      points: \"151.147,268.48 181.333,298.667 288,192 181.333,85.333 151.147,115.52 206.293,170.667 0,170.667 0,213.333 \\r 206.293,213.333\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"windowToolFooter-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-text-default\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, \"Termin\\xE9\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-text-simple\",\n      type: \"button\",\n      onClick: this.props.hide,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, \"Annuler\")))))), document.body) : null;\n  }\n\n}\n/*\r\n  <input\r\n                className={`input ${pseudo.warning ? 'input-warning' : ''}`}\r\n                type=\"text\"\r\n                autoFocus\r\n                required\r\n                value={pseudo.value}\r\n                onChange={this.handleChangeInputPseudo}\r\n              />\r\n              */","map":{"version":3,"sources":["C:/Users/anton/Desktop/FInt.Tchat/dev/V10/client/src/components/sidebar/windows/setting.js"],"names":["React","Component","ReactDOM","validityPseudo","require","Setting","constructor","props","handleChangeInputPseudo","event","pseudo","target","value","rep","setState","warning","valid","handleUpdateUser","state","api","getUserByPseudo","then","res","data","updateChannelById","channel","id","payload","password","activity","channels","insertUser","onIdSubmit","error","console","log","render","client","isShowing","createPortal","hide","document","body"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst { validityPseudo } = require(\"../../../functions/validity.js\");\r\n\r\nexport default class Setting extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      pseudo: {\r\n        value: '',\r\n        warning: '',\r\n        valid: false\r\n      },\r\n    }\r\n  }\r\n\r\n  handleChangeInputPseudo = async event => {\r\n    const pseudo = event.target.value\r\n    const rep = validityPseudo(pseudo);\r\n    this.setState({\r\n      pseudo: {\r\n        value: pseudo,\r\n        warning: rep.warning,\r\n        valid: rep.valid\r\n      }\r\n    })\r\n  }\r\n\r\n  handleUpdateUser = async () => {\r\n    const { pseudo } = this.state\r\n    if (pseudo.valid === true) {\r\n\r\n      // Requête a l'api pour rechercher le pseudo\r\n      await api.getUserByPseudo(pseudo.value).then(res => {\r\n\r\n        // Je vérifie si le pseudo est déjà utilisé\r\n        // sinon on crée l'utilisateur\r\n        if (res.data.data !== null) {\r\n          this.setState({\r\n            pseudo: {\r\n              value: pseudo.value,\r\n              warning: 'ce pseudo est déjà utilisé'\r\n            }\r\n          })\r\n        } else {\r\n\r\n          api.updateChannelById(channel.id, { data: { pseudo: pseudo.value } }).then(res => { })\r\n          // Mise à jour l'utilisateur\r\n          const payload = { id, pseudo: pseudo.value, password: password.value, activity: \"online\", channels: [] }\r\n          api.insertUser(payload).then(\r\n            (res) => {\r\n              // Envoi de l'id\r\n              this.props.onIdSubmit(id)\r\n            },\r\n            (error) => {\r\n              console.log(\"Problème d'enregistrement dans la base de données\")\r\n              console.log(error)\r\n            })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { pseudo } = this.state\r\n    // Récupération des données du client dans l’état local\r\n    const client = this.props.client\r\n    return (\r\n      this.props.isShowing\r\n        ? ReactDOM.createPortal(\r\n          <div className=\"window\">\r\n            <div className=\"window-backdrop\" onClick={this.props.hide}></div>\r\n            <form className=\"window-container\">\r\n              <div className=\"windowToolHeader\">\r\n                <div className=\"windowToolHeader-title\">\r\n                  Paramètres\r\n                </div>\r\n                <div className=\"windowToolHeader-subtitle\">\r\n                  Clic sur ton pseudo pour le modifier\r\n                </div>\r\n              </div>\r\n              <div className=\"clientSetting-body scroller\">\r\n                <div className=\"clientSetting-body-divider\">\r\n                  <div className=\"title\">Compte</div><div className=\"bar\"></div>\r\n                </div>\r\n\r\n                <div className=\"clientSetting-body-account\">\r\n                  <div className=\"clientSetting-body-account-avatar\">\r\n                    <img className=\"avatar\" src=\"https://cdn.discordapp.com/avatars/456863924210630657/1d92f56700533a272820d955d2dc4f29.png?size=128\"\r\n                      alt=\"user account\" />\r\n                    <input className=\"avatarUploaderInput\" type=\"file\" multiple=\"\" accept=\".jpg,.jpeg,.png,.gif\" />\r\n                    <div className=\"avatarUploaderIcon\"></div>\r\n                  </div>\r\n                  <div className=\"clientSetting-body-account-info\">\r\n                    <div className=\"pseudo\">\r\n                      <div className=\"title\">Pseudo</div>\r\n                      <div className=\"content\">\r\n                        <input\r\n                          className=\"input\"\r\n                          type=\"text\"\r\n                          maxLength=\"32\"\r\n                          required\r\n                          defaultValue={client.pseudo}\r\n                          onChange={this.handleChangeInputPseudo}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"tag\">\r\n                      <div className=\"title\">Tag</div>\r\n                      <div className=\"content\">#1012</div>\r\n                    </div>\r\n                    <div className=\"id\">\r\n                      <div className=\"title\">Id</div>\r\n                      <div className=\"content\">{client.id}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"clientSetting-body-divider\">\r\n                  <div className=\"title\">Informations</div><div className=\"bar\"></div>\r\n                </div>\r\n\r\n                <div className=\"clientSetting-body-info\">\r\n                  <div className=\"clientSetting-body-info-compatibility\">\r\n                    <div className=\"title\">Compatible</div>\r\n                    <div className=\"navigator\">\r\n                      <li>Mozilla Firefox</li>\r\n                      <li>Google Chrome</li>\r\n                      <li>Apple Safari</li>\r\n                      <li>Microsoft Edge</li>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"clientSetting-body-info-support\">\r\n                    <div className=\"title\">Support</div>\r\n                    <div className=\"navigator\">\r\n                      <li>Windows</li>\r\n                      <li>MacOS</li>\r\n                      <li>Android</li>\r\n                      <li>iOS</li>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n              <div className=\"windowToolFooter\">\r\n                <button className=\"btn-icon-default-red\" type=\"button\">\r\n                  <svg viewBox=\"0 0 384 384\" aria-hidden=\"false\" width=\"21\" height=\"21\" x=\"0\" y=\"0\">\r\n                    <path fill=\"currentColor\" d=\"M341.333,0H42.667C19.093,0,0,19.093,0,42.667V128h42.667V42.667h298.667v298.667H42.667V256H0v85.333\r\n                      C0,364.907,19.093,384,42.667,384h298.667C364.907,384,384,364.907,384,341.333V42.667C384,19.093,364.907,0,341.333,0z\"/>\r\n                    <polygon fill=\"currentColor\" points=\"151.147,268.48 181.333,298.667 288,192 181.333,85.333 151.147,115.52 206.293,170.667 0,170.667 0,213.333 \r\n                      206.293,213.333\" />\r\n                  </svg>\r\n                </button>\r\n                <div className=\"windowToolFooter-btn\">\r\n                  <button className=\"btn-text-default\" type=\"submit\">\r\n                    <div className=\"content\">Terminé</div>\r\n                  </button>\r\n                  <button className=\"btn-text-simple\" type=\"button\" onClick={this.props.hide}>\r\n                    <div className=\"content\">Annuler</div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>,\r\n          document.body\r\n        ) : null\r\n    )\r\n  }\r\n}\r\n\r\n/*\r\n  <input\r\n                className={`input ${pseudo.warning ? 'input-warning' : ''}`}\r\n                type=\"text\"\r\n                autoFocus\r\n                required\r\n                value={pseudo.value}\r\n                onChange={this.handleChangeInputPseudo}\r\n              />\r\n              */"]},"metadata":{},"sourceType":"module"}