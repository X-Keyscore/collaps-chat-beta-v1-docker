{"ast":null,"code":"import { useState } from \"react\";\n\nconst useAsyncReducer = (reducer, initialState = null) => {\n  const [state, setState] = useState(initialState);\n  const address = api.getUserById(\"f650a09d-c971-4140-ac1b-9a2355d11ce4\").then(user => {\n    return user.data.data;\n  });\n\n  const printAddress = async () => {\n    const a = await address;\n    console.log(a);\n    return a;\n  };\n\n  console.log(printAddress());\n\n  const dispatch = async action => {\n    const result = reducer(state, action);\n\n    if (typeof result.then === \"function\") {\n      try {\n        const newState = await result;\n        setState(newState);\n      } catch (err) {\n        setState({ ...state,\n          error: err\n        });\n      }\n    } else {\n      setState(result);\n    }\n  };\n\n  return [state, dispatch];\n};\n\nexport default useAsyncReducer;","map":{"version":3,"sources":["C:/Users/anton/Desktop/FInt.Tchat/dev/V7/client/src/hooks/useAsyncReducer.js"],"names":["useState","useAsyncReducer","reducer","initialState","state","setState","address","api","getUserById","then","user","data","printAddress","a","console","log","dispatch","action","result","newState","err","error"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;;AAEA,MAAMC,eAAe,GAAG,CAACC,OAAD,EAAUC,YAAY,GAAG,IAAzB,KAAkC;AACxD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAACG,YAAD,CAAlC;AAEA,QAAMG,OAAO,GAAGC,GAAG,CAACC,WAAJ,CAAgB,sCAAhB,EAAwDC,IAAxD,CAA6DC,IAAI,IAAI;AAAE,WAAOA,IAAI,CAACC,IAAL,CAAUA,IAAjB;AAAuB,GAA9F,CAAhB;;AACA,QAAMC,YAAY,GAAG,YAAY;AAC/B,UAAMC,CAAC,GAAG,MAAMP,OAAhB;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAOA,CAAP;AACD,GAJD;;AAKAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,YAAY,EAAxB;;AAEA,QAAMI,QAAQ,GAAG,MAAMC,MAAN,IAAgB;AAC/B,UAAMC,MAAM,GAAGhB,OAAO,CAACE,KAAD,EAAQa,MAAR,CAAtB;;AACA,QAAI,OAAOC,MAAM,CAACT,IAAd,KAAuB,UAA3B,EAAuC;AACrC,UAAI;AACF,cAAMU,QAAQ,GAAG,MAAMD,MAAvB;AACAb,QAAAA,QAAQ,CAACc,QAAD,CAAR;AACD,OAHD,CAGE,OAAOC,GAAP,EAAY;AACZf,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYiB,UAAAA,KAAK,EAAED;AAAnB,SAAD,CAAR;AACD;AACF,KAPD,MAOO;AACLf,MAAAA,QAAQ,CAACa,MAAD,CAAR;AACD;AACF,GAZD;;AAcA,SAAO,CAACd,KAAD,EAAQY,QAAR,CAAP;AACD,CA1BD;;AA4BA,eAAef,eAAf","sourcesContent":["import { useState } from \"react\";\r\n\r\nconst useAsyncReducer = (reducer, initialState = null) => {\r\n  const [state, setState] = useState(initialState);\r\n\r\n  const address = api.getUserById(\"f650a09d-c971-4140-ac1b-9a2355d11ce4\").then(user => { return user.data.data })\r\n  const printAddress = async () => {\r\n    const a = await address;\r\n    console.log(a)\r\n    return a\r\n  };\r\n  console.log(printAddress())\r\n\r\n  const dispatch = async action => {\r\n    const result = reducer(state, action);\r\n    if (typeof result.then === \"function\") {\r\n      try {\r\n        const newState = await result;\r\n        setState(newState);\r\n      } catch (err) {\r\n        setState({ ...state, error: err });\r\n      }\r\n    } else {\r\n      setState(result);\r\n    }\r\n  };\r\n\r\n  return [state, dispatch];\r\n};\r\n\r\nexport default useAsyncReducer;"]},"metadata":{},"sourceType":"module"}