{"ast":null,"code":"import api from \"../api\";\nimport { useState } from \"react\";\n\nconst useAsyncReducer = (reducer, initialState = null) => {\n  const [state, setState] = useState(initialState);\n  const address = api.getUserById(\"f650a09d-c971-4140-ac1b-9a2355d11ce4\").then(user => {\n    return user.data.data;\n  });\n\n  const printAddress = async () => {\n    return await address;\n  };\n\n  console.log(printAddress());\n\n  const dispatch = async action => {\n    const result = reducer(state, action);\n\n    if (typeof result.then === \"function\") {\n      try {\n        const newState = await result;\n        setState(newState);\n      } catch (err) {\n        setState({ ...state,\n          error: err\n        });\n      }\n    } else {\n      setState(result);\n    }\n  };\n\n  return [state, dispatch];\n};\n\nexport default useAsyncReducer;","map":{"version":3,"sources":["C:/Users/anton/Desktop/FInt.Tchat/dev/V7/client/src/hooks/useAsyncReducer.js"],"names":["api","useState","useAsyncReducer","reducer","initialState","state","setState","address","getUserById","then","user","data","printAddress","console","log","dispatch","action","result","newState","err","error"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,QAAhB;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAEA,MAAMC,eAAe,GAAG,CAACC,OAAD,EAAUC,YAAY,GAAG,IAAzB,KAAkC;AACxD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAACG,YAAD,CAAlC;AAEA,QAAMG,OAAO,GAAGP,GAAG,CAACQ,WAAJ,CAAgB,sCAAhB,EAAwDC,IAAxD,CAA6DC,IAAI,IAAI;AAAE,WAAOA,IAAI,CAACC,IAAL,CAAUA,IAAjB;AAAuB,GAA9F,CAAhB;;AACA,QAAMC,YAAY,GAAG,YAAY;AAC/B,WAAO,MAAML,OAAb;AACD,GAFD;;AAGAM,EAAAA,OAAO,CAACC,GAAR,CAAYF,YAAY,EAAxB;;AAEA,QAAMG,QAAQ,GAAG,MAAMC,MAAN,IAAgB;AAC/B,UAAMC,MAAM,GAAGd,OAAO,CAACE,KAAD,EAAQW,MAAR,CAAtB;;AACA,QAAI,OAAOC,MAAM,CAACR,IAAd,KAAuB,UAA3B,EAAuC;AACrC,UAAI;AACF,cAAMS,QAAQ,GAAG,MAAMD,MAAvB;AACAX,QAAAA,QAAQ,CAACY,QAAD,CAAR;AACD,OAHD,CAGE,OAAOC,GAAP,EAAY;AACZb,QAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYe,UAAAA,KAAK,EAAED;AAAnB,SAAD,CAAR;AACD;AACF,KAPD,MAOO;AACLb,MAAAA,QAAQ,CAACW,MAAD,CAAR;AACD;AACF,GAZD;;AAcA,SAAO,CAACZ,KAAD,EAAQU,QAAR,CAAP;AACD,CAxBD;;AA0BA,eAAeb,eAAf","sourcesContent":["import api from \"../api\"\r\nimport { useState } from \"react\";\r\n\r\nconst useAsyncReducer = (reducer, initialState = null) => {\r\n  const [state, setState] = useState(initialState);\r\n\r\n  const address = api.getUserById(\"f650a09d-c971-4140-ac1b-9a2355d11ce4\").then(user => { return user.data.data })\r\n  const printAddress = async () => {\r\n    return await address\r\n  };\r\n  console.log(printAddress())\r\n\r\n  const dispatch = async action => {\r\n    const result = reducer(state, action);\r\n    if (typeof result.then === \"function\") {\r\n      try {\r\n        const newState = await result;\r\n        setState(newState);\r\n      } catch (err) {\r\n        setState({ ...state, error: err });\r\n      }\r\n    } else {\r\n      setState(result);\r\n    }\r\n  };\r\n\r\n  return [state, dispatch];\r\n};\r\n\r\nexport default useAsyncReducer;"]},"metadata":{},"sourceType":"module"}