{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\anton\\\\Desktop\\\\FInt.Tchat\\\\dev\\\\V4\\\\Whatsapp-Clone-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\anton\\\\Desktop\\\\FInt.Tchat\\\\dev\\\\V4\\\\Whatsapp-Clone-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useContacts}from'../contexts/ContactsProvider';import{useConversations}from'../contexts/ConversationsProvider';function NewContact(_ref){var isShowing=_ref.isShowing,hide=_ref.hide;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedContactIds=_useState2[0],setSelectedContactIds=_useState2[1];var _useContacts=useContacts(),contacts=_useContacts.contacts;var _useConversations=useConversations(),createConversation=_useConversations.createConversation;function handleSubmit(e){e.preventDefault();createConversation(selectedContactIds);hide();}function handleCheckboxChange(contactId){setSelectedContactIds(function(prevSelectedContactIds){if(prevSelectedContactIds.includes(contactId)){return prevSelectedContactIds.filter(function(prevId){return contactId!==prevId;});}else{return[].concat(_toConsumableArray(prevSelectedContactIds),[contactId]);}});}return isShowing?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",{className:\"createChannelPrivate\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"createChannelPrivate-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},\"Cr\\xE9e une conversation\")),/*#__PURE__*/React.createElement(\"div\",{className:\"createChannelPrivate-body\"},contacts.map(function(contact){return/*#__PURE__*/React.createElement(\"div\",{key:contact.id},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",id:contact.id,value:selectedContactIds.includes(contact.id),onChange:function onChange(){return handleCheckboxChange(contact.id);}}),/*#__PURE__*/React.createElement(\"label\",null,contact.name));})),/*#__PURE__*/React.createElement(\"div\",{className:\"createChannelPrivate-footer\"},/*#__PURE__*/React.createElement(\"button\",{className:\"button\",type:\"submit\"},\"Ajouter\")))):null;}export default NewContact;","map":{"version":3,"sources":["C:/Users/anton/Desktop/FInt.Tchat/dev/V4/Whatsapp-Clone-master/client/src/components/NewContact.js"],"names":["React","useState","useContacts","useConversations","NewContact","isShowing","hide","selectedContactIds","setSelectedContactIds","contacts","createConversation","handleSubmit","e","preventDefault","handleCheckboxChange","contactId","prevSelectedContactIds","includes","filter","prevId","map","contact","id","name"],"mappings":"0ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,8BAA5B,CACA,OAASC,gBAAT,KAAiC,mCAAjC,CAEA,QAASC,CAAAA,UAAT,MAAyC,IAAnBC,CAAAA,SAAmB,MAAnBA,SAAmB,CAARC,IAAQ,MAARA,IAAQ,eACaL,QAAQ,CAAC,EAAD,CADrB,wCAChCM,kBADgC,eACZC,qBADY,gCAElBN,WAAW,EAFO,CAE/BO,QAF+B,cAE/BA,QAF+B,uBAGRN,gBAAgB,EAHR,CAG/BO,kBAH+B,mBAG/BA,kBAH+B,CAKvC,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvBA,CAAC,CAACC,cAAF,GAEAH,kBAAkB,CAACH,kBAAD,CAAlB,CACAD,IAAI,GACL,CAED,QAASQ,CAAAA,oBAAT,CAA8BC,SAA9B,CAAyC,CACvCP,qBAAqB,CAAC,SAAAQ,sBAAsB,CAAI,CAC9C,GAAIA,sBAAsB,CAACC,QAAvB,CAAgCF,SAAhC,CAAJ,CAAgD,CAC9C,MAAOC,CAAAA,sBAAsB,CAACE,MAAvB,CAA8B,SAAAC,MAAM,CAAI,CAC7C,MAAOJ,CAAAA,SAAS,GAAKI,MAArB,CACD,CAFM,CAAP,CAGD,CAJD,IAIO,CACL,mCAAWH,sBAAX,GAAmCD,SAAnC,GACD,CACF,CARoB,CAArB,CASD,CAED,MACEV,CAAAA,SAAS,cAEP,qDACE,4BAAM,SAAS,CAAC,sBAAhB,CAAuC,QAAQ,CAAEM,YAAjD,eACE,2BAAK,SAAS,CAAC,6BAAf,eACE,2BAAK,SAAS,CAAC,OAAf,6BADF,CADF,cAIE,2BAAK,SAAS,CAAC,2BAAf,EAEIF,QAAQ,CAACW,GAAT,CAAa,SAAAC,OAAO,qBAClB,2BAAK,GAAG,CAAEA,OAAO,CAACC,EAAlB,eACE,6BACE,IAAI,CAAC,UADP,CAEE,EAAE,CAAED,OAAO,CAACC,EAFd,CAGE,KAAK,CAAEf,kBAAkB,CAACU,QAAnB,CAA4BI,OAAO,CAACC,EAApC,CAHT,CAIE,QAAQ,CAAE,0BAAMR,CAAAA,oBAAoB,CAACO,OAAO,CAACC,EAAT,CAA1B,EAJZ,EADF,cAOE,iCAAQD,OAAO,CAACE,IAAhB,CAPF,CADkB,EAApB,CAFJ,CAJF,cAmBE,2BAAK,SAAS,CAAC,6BAAf,eACE,8BAAQ,SAAS,CAAC,QAAlB,CAA2B,IAAI,CAAC,QAAhC,YADF,CAnBF,CADF,CAFO,CA2BL,IA5BN,CA8BD,CACD,cAAenB,CAAAA,UAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport { useContacts } from '../contexts/ContactsProvider'\r\nimport { useConversations } from '../contexts/ConversationsProvider'\r\n\r\nfunction NewContact({ isShowing, hide }) {\r\n  const [selectedContactIds, setSelectedContactIds] = useState([])\r\n  const { contacts } = useContacts()\r\n  const { createConversation } = useConversations()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    createConversation(selectedContactIds)\r\n    hide()\r\n  }\r\n\r\n  function handleCheckboxChange(contactId) {\r\n    setSelectedContactIds(prevSelectedContactIds => {\r\n      if (prevSelectedContactIds.includes(contactId)) {\r\n        return prevSelectedContactIds.filter(prevId => {\r\n          return contactId !== prevId\r\n        })\r\n      } else {\r\n        return [...prevSelectedContactIds, contactId]\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    isShowing\r\n      ?\r\n      <>\r\n        <form className=\"createChannelPrivate\" onSubmit={handleSubmit}>\r\n          <div className=\"createChannelPrivate-header\">\r\n            <div className=\"title\">Cr√©e une conversation</div>\r\n          </div>\r\n          <div className=\"createChannelPrivate-body\">\r\n            {\r\n              contacts.map(contact => (\r\n                <div key={contact.id}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id={contact.id}\r\n                    value={selectedContactIds.includes(contact.id)}\r\n                    onChange={() => handleCheckboxChange(contact.id)}\r\n                  />\r\n                  <label>{contact.name}</label>\r\n                </div>\r\n              ))\r\n            }\r\n          </div>\r\n          <div className=\"createChannelPrivate-footer\">\r\n            <button className=\"button\" type=\"submit\">Ajouter</button>\r\n          </div>\r\n        </form>\r\n      </>\r\n      : null\r\n  )\r\n}\r\nexport default NewContact;"]},"metadata":{},"sourceType":"module"}