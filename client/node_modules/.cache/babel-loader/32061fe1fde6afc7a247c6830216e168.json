{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\anton\\\\Desktop\\\\FInt.Tchat\\\\dev\\\\Beta\\\\V1\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import io from'socket.io-client';var SocketContext=React.createContext();export function useSocket(){return useContext(SocketContext);}export function SocketProvider(_ref){var id=_ref.id,children=_ref.children;var _useState=useState(),_useState2=_slicedToArray(_useState,2),socket=_useState2[0],setSocket=_useState2[1];useEffect(function(){var newSocket=io('https://collaps.xyz',{path:'/collapssocket',query:{id:id}});/*\n    const newSocket = io(\n      'https://collaps.xyz', //https://collaps.xyz //http://localhost:5000\n      { query: { id } }\n    )*/setSocket(newSocket);return function(){return newSocket.close();};},[id]);return/*#__PURE__*/React.createElement(SocketContext.Provider,{value:socket},children);}export default SocketContext;","map":{"version":3,"sources":["C:/Users/anton/Desktop/FInt.Tchat/dev/Beta/V1/client/src/contexts/SocketProvider.js"],"names":["React","useContext","useEffect","useState","io","SocketContext","createContext","useSocket","SocketProvider","id","children","socket","setSocket","newSocket","path","query","close"],"mappings":"wLAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,EAAP,KAAe,kBAAf,CAEA,GAAMC,CAAAA,aAAa,CAAGL,KAAK,CAACM,aAAN,EAAtB,CAEA,MAAO,SAASC,CAAAA,SAAT,EAAqB,CAC1B,MAAON,CAAAA,UAAU,CAACI,aAAD,CAAjB,CACD,CAED,MAAO,SAASG,CAAAA,cAAT,MAA0C,IAAhBC,CAAAA,EAAgB,MAAhBA,EAAgB,CAAZC,QAAY,MAAZA,QAAY,eACnBP,QAAQ,EADW,wCACxCQ,MADwC,eAChCC,SADgC,eAG/CV,SAAS,CAAC,UAAM,CAEd,GAAMW,CAAAA,SAAS,CAAGT,EAAE,CAClB,qBADkB,CAElB,CAAEU,IAAI,CAAC,gBAAP,CAAyBC,KAAK,CAAE,CAAEN,EAAE,CAAFA,EAAF,CAAhC,CAFkB,CAApB,CAIA;;;;OAKAG,SAAS,CAACC,SAAD,CAAT,CAEA,MAAO,kBAAMA,CAAAA,SAAS,CAACG,KAAV,EAAN,EAAP,CACD,CAdQ,CAcN,CAACP,EAAD,CAdM,CAAT,CAgBA,mBACE,oBAAC,aAAD,CAAe,QAAf,EAAwB,KAAK,CAAEE,MAA/B,EACGD,QADH,CADF,CAKD,CAED,cAAeL,CAAAA,aAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport io from 'socket.io-client'\n\nconst SocketContext = React.createContext()\n\nexport function useSocket() {\n  return useContext(SocketContext)\n}\n\nexport function SocketProvider({ id, children }) {\n  const [socket, setSocket] = useState()\n\n  useEffect(() => {\n\n    const newSocket = io(\n      'https://collaps.xyz',\n      { path:'/collapssocket', query: { id } }\n    )\n    /*\n    const newSocket = io(\n      'https://collaps.xyz', //https://collaps.xyz //http://localhost:5000\n      { query: { id } }\n    )*/\n    setSocket(newSocket)\n\n    return () => newSocket.close()\n  }, [id])\n\n  return (\n    <SocketContext.Provider value={socket}>\n      {children}\n    </SocketContext.Provider>\n  )\n}\n\nexport default SocketContext\n"]},"metadata":{},"sourceType":"module"}