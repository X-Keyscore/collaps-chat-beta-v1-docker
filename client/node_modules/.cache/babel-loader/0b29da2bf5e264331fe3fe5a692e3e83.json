{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anton\\\\Desktop\\\\FInt.Tchat\\\\dev\\\\V8\\\\client\\\\src\\\\contexts\\\\UserProvider.js\";\nimport React, { useContext, useState } from 'react';\nimport api from \"../api\";\nimport SocketContext from './SocketProvider';\nconst UserContext = React.createContext();\nexport function useUser() {\n  return useContext(UserContext);\n}\nexport function UserProvider({\n  id,\n  children\n}) {\n  const [state, setState] = useState();\n  setState({\n    user: null,\n    isLoaded: false,\n    requesting: true,\n    error: null\n  });\n\n  if (this.state.requesting) {\n    this.setState({\n      isLoaded: true\n    });\n    api.getUserById(this.props.id).then(user => {\n      this.setState({\n        user: user.data.data,\n        isLoaded: false,\n        requesting: false\n      });\n    }, error => {\n      this.setState({\n        isLoaded: false,\n        requesting: false,\n        error\n      });\n    });\n  }\n\n  createUser = () => {};\n\n  updateUser = () => {};\n\n  deleteUser = () => {};\n\n  console.log(this.context); //const socket = this.context.socket\n\n  /*\r\n  socket.on('user-disconnected', name => {\r\n    console.log(\"test\")\r\n  })\r\n  */\n\n  const value = {\n    user: this.state.user\n  };\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, this.props.children);\n}\nexport default UserContext;","map":{"version":3,"sources":["C:/Users/anton/Desktop/FInt.Tchat/dev/V8/client/src/contexts/UserProvider.js"],"names":["React","useContext","useState","api","SocketContext","UserContext","createContext","useUser","UserProvider","id","children","state","setState","user","isLoaded","requesting","error","getUserById","props","then","data","createUser","updateUser","deleteUser","console","log","context","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AAEA,OAAOC,GAAP,MAAgB,QAAhB;AAEA,OAAOC,aAAP,MAA0B,kBAA1B;AAEA,MAAMC,WAAW,GAAGL,KAAK,CAACM,aAAN,EAApB;AAEA,OAAO,SAASC,OAAT,GAAmB;AACxB,SAAON,UAAU,CAACI,WAAD,CAAjB;AACD;AAED,OAAO,SAASG,YAAT,CAAsB;AAAEC,EAAAA,EAAF;AAAMC,EAAAA;AAAN,CAAtB,EAAwC;AAC7C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,EAAlC;AAEAU,EAAAA,QAAQ,CAAC;AACLC,IAAAA,IAAI,EAAE,IADD;AAELC,IAAAA,QAAQ,EAAE,KAFL;AAGLC,IAAAA,UAAU,EAAE,IAHP;AAILC,IAAAA,KAAK,EAAE;AAJF,GAAD,CAAR;;AAOA,MAAI,KAAKL,KAAL,CAAWI,UAAf,EAA2B;AACzB,SAAKH,QAAL,CAAc;AACZE,MAAAA,QAAQ,EAAE;AADE,KAAd;AAGAX,IAAAA,GAAG,CAACc,WAAJ,CAAgB,KAAKC,KAAL,CAAWT,EAA3B,EAA+BU,IAA/B,CACGN,IAAD,IAAU;AACR,WAAKD,QAAL,CAAc;AACZC,QAAAA,IAAI,EAAEA,IAAI,CAACO,IAAL,CAAUA,IADJ;AAEZN,QAAAA,QAAQ,EAAE,KAFE;AAGZC,QAAAA,UAAU,EAAE;AAHA,OAAd;AAKD,KAPH,EAQGC,KAAD,IAAW;AACT,WAAKJ,QAAL,CAAc;AACZE,QAAAA,QAAQ,EAAE,KADE;AAEZC,QAAAA,UAAU,EAAE,KAFA;AAGZC,QAAAA;AAHY,OAAd;AAKD,KAdH;AAgBD;;AAEDK,EAAAA,UAAU,GAAG,MAAM,CAElB,CAFD;;AAIAC,EAAAA,UAAU,GAAG,MAAM,CAElB,CAFD;;AAIAC,EAAAA,UAAU,GAAG,MAAM,CAElB,CAFD;;AAGAC,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,OAAjB,EA3C6C,CA4C7C;;AACA;;;;;;AAKA,QAAMC,KAAK,GAAG;AACZd,IAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE;AADL,GAAd;AAIA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEc,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,KAAKT,KAAL,CAAWR,QADd,CADF;AAKD;AAED,eAAeL,WAAf","sourcesContent":["import React, { useContext, useState } from 'react'\r\n\r\nimport api from \"../api\"\r\n\r\nimport SocketContext from './SocketProvider';\r\n\r\nconst UserContext = React.createContext()\r\n\r\nexport function useUser() {\r\n  return useContext(UserContext)\r\n}\r\n\r\nexport function UserProvider({ id, children }) {\r\n  const [state, setState] = useState()\r\n\r\n  setState({\r\n      user: null,\r\n      isLoaded: false,\r\n      requesting: true,\r\n      error: null\r\n    });\r\n\r\n  if (this.state.requesting) {\r\n    this.setState({\r\n      isLoaded: true\r\n    });\r\n    api.getUserById(this.props.id).then(\r\n      (user) => {\r\n        this.setState({\r\n          user: user.data.data,\r\n          isLoaded: false,\r\n          requesting: false\r\n        });\r\n      },\r\n      (error) => {\r\n        this.setState({\r\n          isLoaded: false,\r\n          requesting: false,\r\n          error\r\n        });\r\n      }\r\n    )\r\n  }\r\n\r\n  createUser = () => {\r\n\r\n  }\r\n\r\n  updateUser = () => {\r\n\r\n  }\r\n\r\n  deleteUser = () => {\r\n\r\n  }\r\n  console.log(this.context)\r\n  //const socket = this.context.socket\r\n  /*\r\n  socket.on('user-disconnected', name => {\r\n    console.log(\"test\")\r\n  })\r\n  */\r\n  const value = {\r\n    user: this.state.user\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider value={value}>\r\n      {this.props.children}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default UserContext"]},"metadata":{},"sourceType":"module"}