{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anton\\\\Desktop\\\\collaps-chat\\\\dev\\\\Beta\\\\V1\\\\client\\\\src\\\\components\\\\container\\\\Messages.js\";\nimport React from 'react';\nexport default function Messages({\n  client,\n  selectedChannel,\n  messagesChannels\n}) {\n  const recipients = selectedChannel.recipients;\n  const messagesPast = selectedChannel.messages;\n  const messagesLive = messagesChannels.length === 0 ? [] : messagesChannels.find(messagesChannel => messagesChannel.id === selectedChannel.id).messages; // Jonction des messages de la base de données et des messages en direct\n\n  const MessagesArr = messagesPast.concat(messagesLive);\n  console.log(MessagesArr); //^ Pas utlisé pour le moment\n  // Détecte si plus de deux messages a la suite sont du même destinataire\n  //var lastSenderPass = lastSenderNow;\n  //lastSenderNow = message.sender;\n  //lastSenderNow !== lastSenderPass // True si pas le meme\n  //^\n  // Open message file\n\n  function handleOpenFile(id) {\n    window.open(\"http://localhost:3000/api/file/get/files/\" + id, \"_blank\");\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, MessagesArr.map((message, index) => {\n    // Récupération du pseudo\n    const pseudo = message.sender === client.id ? client.pseudo : selectedChannel.recipients.find(recipient => recipient.id === message.sender).pseudo;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message parents\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message-avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"avatar\",\n      src: `${client.avatar_url}${message.sender}`,\n      alt: \"user profil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"message-body-message-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pseudo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, pseudo), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"timestamp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, message.date)), message.file == null ? null : /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => handleOpenFile(message.file),\n      className: \"message-body-message-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      className: \"icon\",\n      viewBox: \"0 0 512 512\",\n      width: \"24\",\n      height: \"24\",\n      x: \"0\",\n      y: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"g\", {\n      fill: \"currentColor\",\n      stroke: \"none\",\n      transform: \"translate(0.000000,512.000000) scale(0.100000,-0.100000)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M1150 4671 c-30 -9 -73 -29 -95 -43 -53 -33 -128 -115 -155 -168 -51\\r -100 -50 -48 -50 -1900 0 -1853 -1 -1800 50 -1901 28 -54 111 -142 164 -173\\r 101 -59 25 -57 1517 -54 l1364 3 58 23 c72 29 172 120 210 191 58 106 57 70\\r 57 1496 0 794 -4 1333 -10 1369 -5 32 -23 88 -40 125 -28 61 -69 104 -488 522\\r -422 422 -462 459 -527 490 l-70 34 -965 2 c-901 2 -969 1 -1020 -16z m1928\\r -315 c15 -8 215 -203 444 -433 360 -362 417 -423 423 -455 4 -20 4 -41 0 -47\\r -4 -7 -96 -11 -278 -11 -291 0 -366 9 -448 50 -54 28 -142 111 -173 164 -51\\r 88 -56 126 -56 448 l0 298 30 0 c17 0 43 -6 58 -14z m419 -1662 c98 -73 98\\r -195 0 -268 -28 -21 -31 -21 -937 -21 -906 0 -909 0 -937 21 -89 66 -99 179\\r -21 251 12 12 34 26 48 32 16 6 340 9 922 8 893 -2 897 -2 925 -23z m0 -640\\r c98 -73 98 -195 0 -268 -28 -21 -31 -21 -937 -21 -906 0 -909 0 -937 21 -89\\r 66 -99 179 -21 251 12 12 34 26 48 32 16 6 340 9 922 8 893 -2 897 -2 925 -23z\\r m0 -640 c98 -73 98 -195 0 -268 -28 -21 -31 -21 -937 -21 -906 0 -909 0 -937\\r 21 -89 66 -99 179 -21 251 12 12 34 26 48 32 16 6 340 9 922 8 893 -2 897 -2\\r 925 -23z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 19\n      }\n    }, \"Ouvrir\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }, message.text));\n  }));\n}","map":{"version":3,"sources":["C:/Users/anton/Desktop/collaps-chat/dev/Beta/V1/client/src/components/container/Messages.js"],"names":["React","Messages","client","selectedChannel","messagesChannels","recipients","messagesPast","messages","messagesLive","length","find","messagesChannel","id","MessagesArr","concat","console","log","handleOpenFile","window","open","map","message","index","pseudo","sender","recipient","avatar_url","date","file","text"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nexport default function Messages({client, selectedChannel, messagesChannels}) {\r\n\r\n  const recipients = selectedChannel.recipients\r\n  const messagesPast = selectedChannel.messages\r\n  const messagesLive = messagesChannels.length === 0 ? [] : messagesChannels.find(messagesChannel => messagesChannel.id === selectedChannel.id).messages\r\n  \r\n  // Jonction des messages de la base de données et des messages en direct\r\n  const MessagesArr = messagesPast.concat(messagesLive);\r\n  \r\n  console.log(MessagesArr)\r\n\r\n  //^ Pas utlisé pour le moment\r\n  // Détecte si plus de deux messages a la suite sont du même destinataire\r\n  //var lastSenderPass = lastSenderNow;\r\n  //lastSenderNow = message.sender;\r\n  //lastSenderNow !== lastSenderPass // True si pas le meme\r\n  //^\r\n\r\n  // Open message file\r\n  function handleOpenFile(id) {\r\n    window.open(\"http://localhost:3000/api/file/get/files/\" + id, \"_blank\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {\r\n        MessagesArr.map((message, index) => {\r\n\r\n          // Récupération du pseudo\r\n          const pseudo = message.sender === client.id ? client.pseudo : selectedChannel.recipients.find(recipient => recipient.id === message.sender).pseudo\r\n\r\n          return (\r\n            <div className=\"message-body-message parents\" key={index}>\r\n              <div className=\"message-body-message-avatar\">\r\n                <img className=\"avatar\"\r\n                  src={`${client.avatar_url}${message.sender}`}\r\n                  alt=\"user profil\" />\r\n              </div>\r\n              <h2 className=\"message-body-message-header\">\r\n                <span className=\"pseudo\">\r\n                  {pseudo}\r\n                </span>\r\n                <span className=\"timestamp\">\r\n                  {message.date}\r\n                </span>\r\n              </h2>\r\n              {\r\n              message.file == null ? null :\r\n                <div onClick={() => handleOpenFile(message.file)} className=\"message-body-message-file\">\r\n                  <svg className=\"icon\" viewBox=\"0 0 512 512\" width=\"24\" height=\"24\" x=\"0\" y=\"0\">\r\n                    <g fill=\"currentColor\" stroke=\"none\" transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\">\r\n                      <path d=\"M1150 4671 c-30 -9 -73 -29 -95 -43 -53 -33 -128 -115 -155 -168 -51\r\n                      -100 -50 -48 -50 -1900 0 -1853 -1 -1800 50 -1901 28 -54 111 -142 164 -173\r\n                      101 -59 25 -57 1517 -54 l1364 3 58 23 c72 29 172 120 210 191 58 106 57 70\r\n                      57 1496 0 794 -4 1333 -10 1369 -5 32 -23 88 -40 125 -28 61 -69 104 -488 522\r\n                      -422 422 -462 459 -527 490 l-70 34 -965 2 c-901 2 -969 1 -1020 -16z m1928\r\n                      -315 c15 -8 215 -203 444 -433 360 -362 417 -423 423 -455 4 -20 4 -41 0 -47\r\n                      -4 -7 -96 -11 -278 -11 -291 0 -366 9 -448 50 -54 28 -142 111 -173 164 -51\r\n                      88 -56 126 -56 448 l0 298 30 0 c17 0 43 -6 58 -14z m419 -1662 c98 -73 98\r\n                      -195 0 -268 -28 -21 -31 -21 -937 -21 -906 0 -909 0 -937 21 -89 66 -99 179\r\n                      -21 251 12 12 34 26 48 32 16 6 340 9 922 8 893 -2 897 -2 925 -23z m0 -640\r\n                      c98 -73 98 -195 0 -268 -28 -21 -31 -21 -937 -21 -906 0 -909 0 -937 21 -89\r\n                      66 -99 179 -21 251 12 12 34 26 48 32 16 6 340 9 922 8 893 -2 897 -2 925 -23z\r\n                      m0 -640 c98 -73 98 -195 0 -268 -28 -21 -31 -21 -937 -21 -906 0 -909 0 -937\r\n                      21 -89 66 -99 179 -21 251 12 12 34 26 48 32 16 6 340 9 922 8 893 -2 897 -2\r\n                      925 -23z\"/>\r\n                    </g>\r\n                  </svg>\r\n                  <div className=\"title\">\r\n                    Ouvrir\r\n                  </div>\r\n                </div>\r\n              }\r\n              <div className=\"message-body-message-text\">\r\n                {message.text}\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}