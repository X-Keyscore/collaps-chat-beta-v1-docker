{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anton\\\\Desktop\\\\FInt.Tchat\\\\dev\\\\V10\\\\client\\\\src\\\\components\\\\container\\\\OpenConversation.js\";\nimport React, { useState, useCallback } from 'react';\nimport api from '../../api';\nimport { useUser } from '../../contexts/UserProvider';\nimport { useChannels } from '../../contexts/ChannelsProvider';\nexport default function OpenConversation() {\n  const {\n    client,\n    updateUser\n  } = useUser();\n  const {\n    setChannels,\n    selectedChannel,\n    setSelectedChannel,\n    messagesChannels,\n    sendMessage\n  } = useChannels();\n  const [recipient, setRecipient] = useState(); // Récupération des données du destinataire avec son id\n\n  api.getUserById(selectedChannel.recipients.id).then(userRecipient => {\n    setRecipient(userRecipient.data.data.channels.filter(channel => channel.id === selectedChannel.id));\n  }, error => {\n    console.log(error);\n  });\n  const [text, setText] = useState('');\n  const setRef = useCallback(node => {\n    if (node) {\n      node.scrollIntoView({\n        smooth: true\n      });\n    }\n  }, []); // Fonction pour supprimer un \"channel\" dans les données du client est dans celle du destinataire\n\n  function deleteChannel() {\n    setChannels(channels => [...channels.slice(0, selectedChannel.key), ...channels.slice(selectedChannel.key + 1)]);\n    setSelectedChannel(null); // J'isole les données du client dans une variable pour pouvoir les modifier\n\n    var userClientEdit = client; // Je boucle tous les \"channels\" du client\n\n    for (let i = 0; i < userClientEdit.channels.length; i++) {\n      // Je teste si l'id du \"channel\" sélectionné correspond à l'id du \"channel\" passé dans la boucle\n      if (userClientEdit.channels[i].id === selectedChannel.id) {\n        // Je supprime le channel dans la liste grace à sa position\n        userClientEdit.channels.splice(i, 1); // Je mets à jour le client\n\n        api.updateUserById(userClientEdit.id, {\n          data: {\n            channels: userClientEdit.channels\n          }\n        }).then(res => {});\n      }\n    } // Récupération des données du destinataire avec son id\n\n\n    api.getUserById(selectedChannel.recipients.id).then(userRecipient => {\n      // J'isole les données du destinataire dans une variable pour pouvoir les modifier\n      var userRecipientEdit = userRecipient.data.data; // Je boucle tous les \"channels\" du destinataire\n\n      for (let i = 0; i < userRecipientEdit.channels.length; i++) {\n        // Je teste si l'id du \"channel\" sélectionné correspond à l'id du \"channel\" passé dans la boucle\n        if (userRecipientEdit.channels[i].id === selectedChannel.id) {\n          // Je supprime le channel dans la liste grace à sa position\n          userRecipientEdit.channels.splice(i, 1); // Je mets à jour le destinataire\n\n          updateUser(userRecipientEdit.id, {\n            data: {\n              channels: userRecipientEdit.channels\n            }\n          });\n        }\n      }\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const recipients = [selectedChannel.recipients]; // channel, client, recipients, text\n\n    sendMessage(selectedChannel, text, client, recipients);\n    setText('');\n  }\n\n  var lastSenderNow; //var testt = selectedChannel.messages.sort((a, b) => a.key - b.key);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, console.log(\"tt\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message-header-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message-header-user-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"avatar\",\n    src: \"https://wir.skyrock.net/wir/v1/profilcrop/?c=mog&w=301&h=301&im=%2Fart%2FPRIP.105317501.2.2.jpg\",\n    alt: \"user profil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message-header-user-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, selectedChannel.recipients.pseudo), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"statut online\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 512 512\",\n    \"aria-hidden\": \"false\",\n    width: \"10\",\n    height: \"15\",\n    x: \"0\",\n    y: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M256,0C115.39,0,0,115.39,0,256s115.39,256,256,256s256-115.39,256-256S396.61,0,256,0z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message-header-toolbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-icon-small-red\",\n    type: \"button\",\n    onClick: deleteChannel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 512 512\",\n    \"aria-hidden\": \"false\",\n    width: \"20\",\n    height: \"20\",\n    x: \"0\",\n    y: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    fill: \"currentColor\",\n    points: \"512,338.954 483.732,310.686 411.772,382.646 339.812,310.686 311.543,338.954 383.503,410.914 311.543,482.874  339.812,511.142 411.772,439.182 483.732,511.142 512,482.874 440.04,410.914 \\t\\t\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M255.858,0.142c-81.562,0-147.918,66.356-147.918,147.918c0,50.52,25.465,95.198,64.226,121.894 c-36.19,12.488-69.36,33.118-97.227,60.984C26.614,379.265,0,443.516,0,511.858h39.978c0-119.037,96.843-215.88,215.88-215.88 c81.562,0,147.918-66.355,147.918-147.918C403.776,66.498,337.42,0.142,255.858,0.142z M255.858,256 c-59.518,0-107.94-48.421-107.94-107.94S196.34,40.12,255.858,40.12c59.518,0,107.94,48.421,107.94,107.94 S315.376,256,255.858,256z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message-body scroller\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, selectedChannel.messages.map((message, index) => {\n    var date = new Date(message.date);\n    date = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()} ${date.getHours()}:${date.getMinutes()}`; // Détecte si plus de deux messages a la suite sont du même destinataire\n\n    var lastSenderPass = lastSenderNow;\n    lastSenderNow = message.sender;\n    return lastSenderNow !== lastSenderPass ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message parents\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message-avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"avatar\",\n      src: \"https://wir.skyrock.net/wir/v1/profilcrop/?c=mog&w=301&h=301&im=%2Fart%2FPRIP.105317501.2.2.jpg\",\n      alt: \"user profil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"message-body-message-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pseudo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, client === null ? null : client.pseudo), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"timestamp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, date)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 19\n      }\n    }, message.text)) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message children\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 19\n      }\n    }, message.text));\n  }), messagesChannels.length === 0 ? null : messagesChannels.find(messagesChannel => messagesChannel.id === selectedChannel.id).messages.map((message, index) => {\n    console.log(messagesChannels);\n    const lastMessage = selectedChannel.messages.length - 1 === index;\n    var date = new Date(message.date);\n    date = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()} ${date.getHours()}:${date.getMinutes()}`; // Détecte si plus de deux messages a la suite sont du même destinataire\n\n    var lastSenderPass = lastSenderNow;\n    lastSenderNow = message.sender;\n    return lastSenderNow !== lastSenderPass ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message parents\",\n      key: index,\n      ref: lastMessage ? setRef : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message-avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"avatar\",\n      src: \"https://wir.skyrock.net/wir/v1/profilcrop/?c=mog&w=301&h=301&im=%2Fart%2FPRIP.105317501.2.2.jpg\",\n      alt: \"user profil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"message-body-message-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pseudo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 21\n      }\n    }, message.sender), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"timestamp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }\n    }, date)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 19\n      }\n    }, message.text)) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message children\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 19\n      }\n    }, message.text));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message-body-spacer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"message-footer-toolbar\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message-footer-toolbar-uploadBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"icon\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M12 2.00098C6.486 2.00098 2 6.48698 2 12.001C2 17.515 6.486 22.001 12 22.001C17.514 22.001 22 17.515 22 12.001C22 6.48698 17.514 2.00098 12 2.00098ZM17 13.001H13V17.001H11V13.001H7V11.001H11V7.00098H13V11.001H17V13.001Z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input\",\n    type: \"file\",\n    multiple: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"msgTextarea\",\n    className: \"message-footer-toolbar-textarea scroller\",\n    placeholder: \"Envoyer un message à \" + selectedChannel.recipients.pseudo,\n    spellCheck: \"true\",\n    autoFocus: true,\n    autoComplete: \"off\",\n    value: text,\n    onChange: e => setText(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"message-footer-toolbar-sendBtn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 512 512\",\n    \"aria-hidden\": \"false\",\n    width: \"20\",\n    height: \"20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M481.508,210.336L68.414,38.926c-17.403-7.222-37.064-4.045-51.309,8.287C2.86,59.547-3.098,78.551,1.558,96.808 L38.327,241h180.026c8.284,0,15.001,6.716,15.001,15.001c0,8.284-6.716,15.001-15.001,15.001H38.327L1.558,415.193 c-4.656,18.258,1.301,37.262,15.547,49.595c14.274,12.357,33.937,15.495,51.31,8.287l413.094-171.409 C500.317,293.862,512,276.364,512,256.001C512,235.638,500.317,218.139,481.508,210.336z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 15\n    }\n  }))))));\n}","map":{"version":3,"sources":["C:/Users/anton/Desktop/FInt.Tchat/dev/V10/client/src/components/container/OpenConversation.js"],"names":["React","useState","useCallback","api","useUser","useChannels","OpenConversation","client","updateUser","setChannels","selectedChannel","setSelectedChannel","messagesChannels","sendMessage","recipient","setRecipient","getUserById","recipients","id","then","userRecipient","data","channels","filter","channel","error","console","log","text","setText","setRef","node","scrollIntoView","smooth","deleteChannel","slice","key","userClientEdit","i","length","splice","updateUserById","res","userRecipientEdit","handleSubmit","e","preventDefault","lastSenderNow","pseudo","messages","map","message","index","date","Date","getDate","getMonth","getFullYear","getHours","getMinutes","lastSenderPass","sender","find","messagesChannel","lastMessage","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,QAA6C,OAA7C;AAEA,OAAOC,GAAP,MAAgB,WAAhB;AAEA,SAASC,OAAT,QAAwB,6BAAxB;AACA,SAASC,WAAT,QAA4B,iCAA5B;AAEA,eAAe,SAASC,gBAAT,GAA4B;AACzC,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAyBJ,OAAO,EAAtC;AACA,QAAM;AAAEK,IAAAA,WAAF;AAAeC,IAAAA,eAAf;AAAgCC,IAAAA,kBAAhC;AAAoDC,IAAAA,gBAApD;AAAsEC,IAAAA;AAAtE,MAAsFR,WAAW,EAAvG;AAEA,QAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,EAA1C,CAJyC,CAKzC;;AACAE,EAAAA,GAAG,CAACa,WAAJ,CAAgBN,eAAe,CAACO,UAAhB,CAA2BC,EAA3C,EAA+CC,IAA/C,CACGC,aAAD,IAAmB;AAEjBL,IAAAA,YAAY,CAACK,aAAa,CAACC,IAAd,CAAmBA,IAAnB,CAAwBC,QAAxB,CAAiCC,MAAjC,CAAwCC,OAAO,IAAIA,OAAO,CAACN,EAAR,KAAeR,eAAe,CAACQ,EAAlF,CAAD,CAAZ;AAED,GALH,EAMGO,KAAD,IAAW;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,GARH;AAWA,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkB5B,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM6B,MAAM,GAAG5B,WAAW,CAAC6B,IAAI,IAAI;AACjC,QAAIA,IAAJ,EAAU;AACRA,MAAAA,IAAI,CAACC,cAAL,CAAoB;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAApB;AACD;AACF,GAJyB,EAIvB,EAJuB,CAA1B,CAlByC,CAwBzC;;AACA,WAASC,aAAT,GAAyB;AACvBzB,IAAAA,WAAW,CAACa,QAAQ,IAAI,CACtB,GAAGA,QAAQ,CAACa,KAAT,CAAe,CAAf,EAAkBzB,eAAe,CAAC0B,GAAlC,CADmB,EAEtB,GAAGd,QAAQ,CAACa,KAAT,CAAezB,eAAe,CAAC0B,GAAhB,GAAsB,CAArC,CAFmB,CAAb,CAAX;AAIAzB,IAAAA,kBAAkB,CAAC,IAAD,CAAlB,CALuB,CAOvB;;AACA,QAAI0B,cAAc,GAAG9B,MAArB,CARuB,CAUvB;;AACA,SAAK,IAAI+B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,cAAc,CAACf,QAAf,CAAwBiB,MAA5C,EAAoDD,CAAC,EAArD,EAAyD;AACvD;AACA,UAAID,cAAc,CAACf,QAAf,CAAwBgB,CAAxB,EAA2BpB,EAA3B,KAAkCR,eAAe,CAACQ,EAAtD,EAA0D;AACxD;AACAmB,QAAAA,cAAc,CAACf,QAAf,CAAwBkB,MAAxB,CAA+BF,CAA/B,EAAkC,CAAlC,EAFwD,CAGxD;;AACAnC,QAAAA,GAAG,CAACsC,cAAJ,CAAmBJ,cAAc,CAACnB,EAAlC,EAAsC;AAAEG,UAAAA,IAAI,EAAE;AAAEC,YAAAA,QAAQ,EAAEe,cAAc,CAACf;AAA3B;AAAR,SAAtC,EAAuFH,IAAvF,CAA4FuB,GAAG,IAAI,CAAG,CAAtG;AACD;AACF,KAnBsB,CAqBvB;;;AACAvC,IAAAA,GAAG,CAACa,WAAJ,CAAgBN,eAAe,CAACO,UAAhB,CAA2BC,EAA3C,EAA+CC,IAA/C,CACGC,aAAD,IAAmB;AAEjB;AACA,UAAIuB,iBAAiB,GAAGvB,aAAa,CAACC,IAAd,CAAmBA,IAA3C,CAHiB,CAKjB;;AACA,WAAK,IAAIiB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGK,iBAAiB,CAACrB,QAAlB,CAA2BiB,MAA/C,EAAuDD,CAAC,EAAxD,EAA4D;AAC1D;AACA,YAAIK,iBAAiB,CAACrB,QAAlB,CAA2BgB,CAA3B,EAA8BpB,EAA9B,KAAqCR,eAAe,CAACQ,EAAzD,EAA6D;AAC3D;AACAyB,UAAAA,iBAAiB,CAACrB,QAAlB,CAA2BkB,MAA3B,CAAkCF,CAAlC,EAAqC,CAArC,EAF2D,CAG3D;;AACA9B,UAAAA,UAAU,CAACmC,iBAAiB,CAACzB,EAAnB,EAAuB;AAAEG,YAAAA,IAAI,EAAE;AAAEC,cAAAA,QAAQ,EAAEqB,iBAAiB,CAACrB;AAA9B;AAAR,WAAvB,CAAV;AACD;AACF;AAEF,KAjBH,EAkBGG,KAAD,IAAW;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KApBH;AAsBD;;AAED,WAASmB,YAAT,CAAsBC,CAAtB,EAAyB;AACvBA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAM7B,UAAU,GAAG,CAACP,eAAe,CAACO,UAAjB,CAAnB,CAHuB,CAIvB;;AACAJ,IAAAA,WAAW,CACTH,eADS,EAETkB,IAFS,EAGTrB,MAHS,EAITU,UAJS,CAAX;AAMAY,IAAAA,OAAO,CAAC,EAAD,CAAP;AACD;;AAED,MAAIkB,aAAJ,CArFyC,CAuFzC;;AAEA,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrB,OAAO,CAACC,GAAR,CAAY,IAAZ,CADH,eAEE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,QAAf;AACE,IAAA,GAAG,EAAC,iGADN;AAEE,IAAA,GAAG,EAAC,aAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAME;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGjB,eAAe,CAACO,UAAhB,CAA2B+B,MAD9B,CADF,eAIE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,OAAO,EAAC,aAAb;AAA2B,mBAAY,OAAvC;AAA+C,IAAA,KAAK,EAAC,IAArD;AAA0D,IAAA,MAAM,EAAC,IAAjE;AAAsE,IAAA,CAAC,EAAC,GAAxE;AAA4E,IAAA,CAAC,EAAC,GAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,IAAI,EAAC,cAAX;AACE,IAAA,CAAC,EAAC,sFADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAJF,CANF,CADF,eAoBE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,oBAAlB;AAAuC,IAAA,IAAI,EAAC,QAA5C;AAAqD,IAAA,OAAO,EAAEd,aAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,OAAO,EAAC,aAAb;AAA2B,mBAAY,OAAvC;AAA+C,IAAA,KAAK,EAAC,IAArD;AAA0D,IAAA,MAAM,EAAC,IAAjE;AAAsE,IAAA,CAAC,EAAC,GAAxE;AAA4E,IAAA,CAAC,EAAC,GAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAS,IAAA,IAAI,EAAC,cAAd;AAA6B,IAAA,MAAM,EAAC,8LAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE;AAAM,IAAA,IAAI,EAAC,cAAX;AAA0B,IAAA,CAAC,EAAC,0bAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF,CADF,CApBF,CAFF,eAoCE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIxB,eAAe,CAACuC,QAAhB,CAAyBC,GAAzB,CAA6B,CAACC,OAAD,EAAUC,KAAV,KAAoB;AAE/C,QAAIC,IAAI,GAAG,IAAIC,IAAJ,CAASH,OAAO,CAACE,IAAjB,CAAX;AACAA,IAAAA,IAAI,GAAI,GAAEA,IAAI,CAACE,OAAL,EAAe,IAAGF,IAAI,CAACG,QAAL,KAAkB,CAAE,IAAGH,IAAI,CAACI,WAAL,EAAmB,IAAGJ,IAAI,CAACK,QAAL,EAAgB,IAAGL,IAAI,CAACM,UAAL,EAAkB,EAA9G,CAH+C,CAK/C;;AACA,QAAIC,cAAc,GAAGb,aAArB;AACAA,IAAAA,aAAa,GAAGI,OAAO,CAACU,MAAxB;AAEA,WACEd,aAAa,KAAKa,cAAlB,gBAEE;AACE,MAAA,SAAS,EAAC,8BADZ;AAEE,MAAA,GAAG,EAAER,KAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AACE,MAAA,GAAG,EAAC,iGADN;AAEE,MAAA,GAAG,EAAC,aAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJF,eASE;AAAI,MAAA,SAAS,EAAC,6BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG7C,MAAM,KAAK,IAAX,GAAkB,IAAlB,GAAyBA,MAAM,CAACyC,MADnC,CADF,eAIE;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGK,IADH,CAJF,CATF,eAiBE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGF,OAAO,CAACvB,IADX,CAjBF,CAFF,gBAwBE;AACE,MAAA,SAAS,EAAC,+BADZ;AAEE,MAAA,GAAG,EAAEwB,KAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,OAAO,CAACvB,IADX,CAJF,CAzBJ;AAkCD,GA3CD,CAFJ,EAgDIhB,gBAAgB,CAAC2B,MAAjB,KAA4B,CAA5B,GAAgC,IAAhC,GAAuC3B,gBAAgB,CAACkD,IAAjB,CAAsBC,eAAe,IAAIA,eAAe,CAAC7C,EAAhB,KAAuBR,eAAe,CAACQ,EAAhF,EAAoF+B,QAApF,CAA6FC,GAA7F,CAAiG,CAACC,OAAD,EAAUC,KAAV,KAAoB;AAC1J1B,IAAAA,OAAO,CAACC,GAAR,CAAYf,gBAAZ;AACA,UAAMoD,WAAW,GAAGtD,eAAe,CAACuC,QAAhB,CAAyBV,MAAzB,GAAkC,CAAlC,KAAwCa,KAA5D;AAEA,QAAIC,IAAI,GAAG,IAAIC,IAAJ,CAASH,OAAO,CAACE,IAAjB,CAAX;AACAA,IAAAA,IAAI,GAAI,GAAEA,IAAI,CAACE,OAAL,EAAe,IAAGF,IAAI,CAACG,QAAL,KAAkB,CAAE,IAAGH,IAAI,CAACI,WAAL,EAAmB,IAAGJ,IAAI,CAACK,QAAL,EAAgB,IAAGL,IAAI,CAACM,UAAL,EAAkB,EAA9G,CAL0J,CAO1J;;AACA,QAAIC,cAAc,GAAGb,aAArB;AACAA,IAAAA,aAAa,GAAGI,OAAO,CAACU,MAAxB;AAEA,WACEd,aAAa,KAAKa,cAAlB,gBAEE;AACE,MAAA,SAAS,EAAC,8BADZ;AAEE,MAAA,GAAG,EAAER,KAFP;AAGE,MAAA,GAAG,EAAEY,WAAW,GAAGlC,MAAH,GAAY,IAH9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AACE,MAAA,GAAG,EAAC,iGADN;AAEE,MAAA,GAAG,EAAC,aAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,eAUE;AAAI,MAAA,SAAS,EAAC,6BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGqB,OAAO,CAACU,MADX,CADF,eAIE;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGR,IADH,CAJF,CAVF,eAkBE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGF,OAAO,CAACvB,IADX,CAlBF,CAFF,gBAyBE;AACE,MAAA,SAAS,EAAC,+BADZ;AAEE,MAAA,GAAG,EAAEwB,KAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,OAAO,CAACvB,IADX,CAJF,CA1BJ;AAmCD,GA9CsC,CAhD3C,eAiGE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjGF,CApCF,eAuIE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,wBAAhB;AAAyC,IAAA,QAAQ,EAAEgB,YAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAsB,IAAA,KAAK,EAAC,IAA5B;AAAiC,IAAA,MAAM,EAAC,IAAxC;AAA6C,IAAA,OAAO,EAAC,WAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,IAAI,EAAC,cAAX;AAA0B,IAAA,CAAC,EAAC,6NAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAME;AAAO,IAAA,SAAS,EAAC,OAAjB;AAAyB,IAAA,IAAI,EAAC,MAA9B;AAAqC,IAAA,QAAQ,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CAFF,eAWE;AAAU,IAAA,EAAE,EAAC,aAAb;AAA2B,IAAA,SAAS,EAAC,0CAArC;AAAgF,IAAA,WAAW,EAAE,0BAA0BlC,eAAe,CAACO,UAAhB,CAA2B+B,MAAlJ;AACE,IAAA,UAAU,EAAC,MADb;AACoB,IAAA,SAAS,MAD7B;AAC8B,IAAA,YAAY,EAAC,KAD3C;AAEE,IAAA,KAAK,EAAEpB,IAFT;AAGE,IAAA,QAAQ,EAAEiB,CAAC,IAAIhB,OAAO,CAACgB,CAAC,CAACoB,MAAF,CAASC,KAAV,CAHxB;AAIE,IAAA,QAAQ,MAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,eAkBE;AAAQ,IAAA,SAAS,EAAC,gCAAlB;AAAmD,IAAA,IAAI,EAAC,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,OAAO,EAAC,aAAb;AAA2B,mBAAY,OAAvC;AAA+C,IAAA,KAAK,EAAC,IAArD;AAA0D,IAAA,MAAM,EAAC,IAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,IAAI,EAAC,cAAX;AAA0B,IAAA,CAAC,EAAC,qZAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAlBF,CADF,CAvIF,CADF;AAwKD","sourcesContent":["import React, { useState, useCallback } from 'react'\n\nimport api from '../../api'\n\nimport { useUser } from '../../contexts/UserProvider';\nimport { useChannels } from '../../contexts/ChannelsProvider';\n\nexport default function OpenConversation() {\n  const { client, updateUser } = useUser()\n  const { setChannels, selectedChannel, setSelectedChannel, messagesChannels, sendMessage } = useChannels()\n\n  const [recipient, setRecipient] = useState()\n  // Récupération des données du destinataire avec son id\n  api.getUserById(selectedChannel.recipients.id).then(\n    (userRecipient) => {\n\n      setRecipient(userRecipient.data.data.channels.filter(channel => channel.id === selectedChannel.id))\n\n    },\n    (error) => {\n      console.log(error)\n    }\n  )\n\n  const [text, setText] = useState('')\n  const setRef = useCallback(node => {\n    if (node) {\n      node.scrollIntoView({ smooth: true })\n    }\n  }, [])\n\n  // Fonction pour supprimer un \"channel\" dans les données du client est dans celle du destinataire\n  function deleteChannel() {\n    setChannels(channels => [\n      ...channels.slice(0, selectedChannel.key),\n      ...channels.slice(selectedChannel.key + 1)\n    ]);\n    setSelectedChannel(null)\n\n    // J'isole les données du client dans une variable pour pouvoir les modifier\n    var userClientEdit = client\n\n    // Je boucle tous les \"channels\" du client\n    for (let i = 0; i < userClientEdit.channels.length; i++) {\n      // Je teste si l'id du \"channel\" sélectionné correspond à l'id du \"channel\" passé dans la boucle\n      if (userClientEdit.channels[i].id === selectedChannel.id) {\n        // Je supprime le channel dans la liste grace à sa position\n        userClientEdit.channels.splice(i, 1);\n        // Je mets à jour le client\n        api.updateUserById(userClientEdit.id, { data: { channels: userClientEdit.channels } }).then(res => { })\n      }\n    }\n\n    // Récupération des données du destinataire avec son id\n    api.getUserById(selectedChannel.recipients.id).then(\n      (userRecipient) => {\n\n        // J'isole les données du destinataire dans une variable pour pouvoir les modifier\n        var userRecipientEdit = userRecipient.data.data\n\n        // Je boucle tous les \"channels\" du destinataire\n        for (let i = 0; i < userRecipientEdit.channels.length; i++) {\n          // Je teste si l'id du \"channel\" sélectionné correspond à l'id du \"channel\" passé dans la boucle\n          if (userRecipientEdit.channels[i].id === selectedChannel.id) {\n            // Je supprime le channel dans la liste grace à sa position\n            userRecipientEdit.channels.splice(i, 1);\n            // Je mets à jour le destinataire\n            updateUser(userRecipientEdit.id, { data: { channels: userRecipientEdit.channels } })\n          }\n        }\n\n      },\n      (error) => {\n        console.log(error)\n      }\n    )\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n\n    const recipients = [selectedChannel.recipients]\n    // channel, client, recipients, text\n    sendMessage(\n      selectedChannel,\n      text,\n      client,\n      recipients\n    )\n    setText('')\n  }\n\n  var lastSenderNow;\n\n  //var testt = selectedChannel.messages.sort((a, b) => a.key - b.key);\n\n  return (\n    <div className=\"message\">\n      {console.log(\"tt\")}\n      <div className=\"message-header\">\n        <div className=\"message-header-user\">\n          <div className=\"message-header-user-avatar\">\n            <img className=\"avatar\"\n              src=\"https://wir.skyrock.net/wir/v1/profilcrop/?c=mog&w=301&h=301&im=%2Fart%2FPRIP.105317501.2.2.jpg\"\n              alt=\"user profil\" />\n          </div>\n          <div className=\"message-header-user-info\">\n            <div className=\"username\">\n              {selectedChannel.recipients.pseudo}\n            </div>\n            <div className=\"statut online\">\n              <svg viewBox=\"0 0 512 512\" aria-hidden=\"false\" width=\"10\" height=\"15\" x=\"0\" y=\"0\">\n                <path fill=\"currentColor\"\n                  d=\"M256,0C115.39,0,0,115.39,0,256s115.39,256,256,256s256-115.39,256-256S396.61,0,256,0z\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"message-header-toolbar\">\n          <button className=\"btn-icon-small-red\" type=\"button\" onClick={deleteChannel}>\n            <svg viewBox=\"0 0 512 512\" aria-hidden=\"false\" width=\"20\" height=\"20\" x=\"0\" y=\"0\">\n              <polygon fill=\"currentColor\" points=\"512,338.954 483.732,310.686 411.772,382.646 339.812,310.686 311.543,338.954 383.503,410.914 311.543,482.874 \n              339.812,511.142 411.772,439.182 483.732,511.142 512,482.874 440.04,410.914 \t\t\"/>\n              <path fill=\"currentColor\" d=\"M255.858,0.142c-81.562,0-147.918,66.356-147.918,147.918c0,50.52,25.465,95.198,64.226,121.894\n              c-36.19,12.488-69.36,33.118-97.227,60.984C26.614,379.265,0,443.516,0,511.858h39.978c0-119.037,96.843-215.88,215.88-215.88\n              c81.562,0,147.918-66.355,147.918-147.918C403.776,66.498,337.42,0.142,255.858,0.142z M255.858,256\n              c-59.518,0-107.94-48.421-107.94-107.94S196.34,40.12,255.858,40.12c59.518,0,107.94,48.421,107.94,107.94\n              S315.376,256,255.858,256z\"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n      <div className=\"message-body scroller\">\n        {\n          selectedChannel.messages.map((message, index) => {\n\n            var date = new Date(message.date);\n            date = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()} ${date.getHours()}:${date.getMinutes()}`\n\n            // Détecte si plus de deux messages a la suite sont du même destinataire\n            var lastSenderPass = lastSenderNow;\n            lastSenderNow = message.sender;\n\n            return (\n              lastSenderNow !== lastSenderPass\n                ?\n                <div\n                  className=\"message-body-message parents\"\n                  key={index}\n                >\n                  <div className=\"message-body-message-avatar\">\n                    <img className=\"avatar\"\n                      src=\"https://wir.skyrock.net/wir/v1/profilcrop/?c=mog&w=301&h=301&im=%2Fart%2FPRIP.105317501.2.2.jpg\"\n                      alt=\"user profil\" />\n                  </div>\n                  <h2 className=\"message-body-message-header\">\n                    <span className=\"pseudo\">\n                      {client === null ? null : client.pseudo}\n                    </span>\n                    <span className=\"timestamp\">\n                      {date}\n                    </span>\n                  </h2>\n                  <div className=\"message-body-message-text\">\n                    {message.text}\n                  </div>\n                </div>\n                :\n                <div\n                  className=\"message-body-message children\"\n                  key={index}\n                >\n                  <div className=\"message-body-message-text\">\n                    {message.text}\n                  </div>\n                </div>\n            )\n          })\n        }\n        {\n          messagesChannels.length === 0 ? null : messagesChannels.find(messagesChannel => messagesChannel.id === selectedChannel.id).messages.map((message, index) => {\n            console.log(messagesChannels)\n            const lastMessage = selectedChannel.messages.length - 1 === index\n\n            var date = new Date(message.date);\n            date = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()} ${date.getHours()}:${date.getMinutes()}`\n\n            // Détecte si plus de deux messages a la suite sont du même destinataire\n            var lastSenderPass = lastSenderNow;\n            lastSenderNow = message.sender;\n\n            return (\n              lastSenderNow !== lastSenderPass\n                ?\n                <div\n                  className=\"message-body-message parents\"\n                  key={index}\n                  ref={lastMessage ? setRef : null}\n                >\n                  <div className=\"message-body-message-avatar\">\n                    <img className=\"avatar\"\n                      src=\"https://wir.skyrock.net/wir/v1/profilcrop/?c=mog&w=301&h=301&im=%2Fart%2FPRIP.105317501.2.2.jpg\"\n                      alt=\"user profil\" />\n                  </div>\n                  <h2 className=\"message-body-message-header\">\n                    <span className=\"pseudo\">\n                      {message.sender}\n                    </span>\n                    <span className=\"timestamp\">\n                      {date}\n                    </span>\n                  </h2>\n                  <div className=\"message-body-message-text\">\n                    {message.text}\n                  </div>\n                </div>\n                :\n                <div\n                  className=\"message-body-message children\"\n                  key={index}\n                >\n                  <div className=\"message-body-message-text\">\n                    {message.text}\n                  </div>\n                </div>\n            )\n          })\n        }\n\n        <div className=\"message-body-spacer\"></div>\n      </div>\n      <div className=\"message-footer\">\n        <form className=\"message-footer-toolbar\" onSubmit={handleSubmit}>\n\n          <div className=\"message-footer-toolbar-uploadBtn\">\n            <svg className=\"icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n              <path fill=\"currentColor\" d=\"M12 2.00098C6.486 2.00098 2 6.48698 2 12.001C2 17.515 6.486 22.001 12 22.001C17.514 22.001 22 17.515 22 12.001C22\n                    6.48698 17.514 2.00098 12 2.00098ZM17 13.001H13V17.001H11V13.001H7V11.001H11V7.00098H13V11.001H17V13.001Z\">\n              </path>\n            </svg>\n            <input className=\"input\" type=\"file\" multiple />\n          </div>\n\n          <textarea id=\"msgTextarea\" className=\"message-footer-toolbar-textarea scroller\" placeholder={\"Envoyer un message à \" + selectedChannel.recipients.pseudo}\n            spellCheck=\"true\" autoFocus autoComplete=\"off\"\n            value={text}\n            onChange={e => setText(e.target.value)}\n            required\n          ></textarea>\n\n          <button className=\"message-footer-toolbar-sendBtn\" type=\"submit\">\n            <svg viewBox=\"0 0 512 512\" aria-hidden=\"false\" width=\"20\" height=\"20\">\n              <path fill=\"currentColor\" d=\"M481.508,210.336L68.414,38.926c-17.403-7.222-37.064-4.045-51.309,8.287C2.86,59.547-3.098,78.551,1.558,96.808\n                  L38.327,241h180.026c8.284,0,15.001,6.716,15.001,15.001c0,8.284-6.716,15.001-15.001,15.001H38.327L1.558,415.193\n                  c-4.656,18.258,1.301,37.262,15.547,49.595c14.274,12.357,33.937,15.495,51.31,8.287l413.094-171.409\n                  C500.317,293.862,512,276.364,512,256.001C512,235.638,500.317,218.139,481.508,210.336z\" />\n            </svg>\n          </button>\n\n        </form>\n      </div>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}