{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anton\\\\Desktop\\\\collaps-chat\\\\dev\\\\Beta\\\\V1\\\\client\\\\src\\\\components\\\\container\\\\Messages.js\";\nimport React from 'react';\nexport default function Messages({\n  client,\n  selectedChannel,\n  messagesChannels\n}) {\n  const recipients = selectedChannel.recipients;\n  const messagesPast = selectedChannel.messages;\n  const messagesLive = messagesChannels.length === 0 ? [] : messagesChannels.find(messagesChannel => messagesChannel.id === selectedChannel.id).messages; // Jonction des messages de la base de données et des messages en direct\n\n  const MessagesArr = messagesPast.concat(messagesLive);\n  console.log(MessagesArr); //^ Pas utlisé pour le moment\n  // Détecte si plus de deux messages a la suite sont du même destinataire\n  //var lastSenderPass = lastSenderNow;\n  //lastSenderNow = message.sender;\n  //lastSenderNow !== lastSenderPass // True si pas le meme\n  //^\n\n  lastSenderNow !== lastSenderPass;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, MessagesArr.map((message, index) => {\n    // Récupération du pseudo\n    const pseudo = message.sender === client.id ? client.pseudo : selectedChannel.recipients.find(recipient => recipient.id === message.sender).pseudo;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message parents\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message-avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"avatar\",\n      src: `${client.avatar_url}${message.sender}`,\n      alt: \"user profil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"message-body-message-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pseudo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }, pseudo), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"timestamp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, message.date)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-body-message-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 15\n      }\n    }, message.text));\n  }));\n}\n/*\r\n\r\n\r\n<div className=\"message-body-message parents\" key={index}>\r\n  <div className=\"message-body-message-avatar\">\r\n    <img className=\"avatar\"\r\n      src={client == null ? null : message.sender.id === client.id ? `${client.avatar_url}${client.id}` : `${client.avatar_url}${message.sender}`}\r\n      alt=\"user profil\" />\r\n  </div>\r\n  <h2 className=\"message-body-message-header\">\r\n    <span className=\"pseudo\">\r\n      {pseudo}\r\n    </span>\r\n    <span className=\"timestamp\">\r\n      {date}\r\n    </span>\r\n  </h2>\r\n  <div className=\"message-body-message-text\">\r\n    {message.text}\r\n  </div>\r\n</div>\r\n:\r\n<div className=\"message-body-message children\" key={index}>\r\n  <div onClick={() => handleOpenFile(message.file)} className=\"message-body-message-file\">\r\n    <svg className=\"icon\" viewBox=\"0 0 512 512\" width=\"24\" height=\"24\" x=\"0\" y=\"0\">\r\n      <g fill=\"currentColor\" stroke=\"none\" transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\">\r\n        <path d=\"M1150 4671 c-30 -9 -73 -29 -95 -43 -53 -33 -128 -115 -155 -168 -51\r\n        -100 -50 -48 -50 -1900 0 -1853 -1 -1800 50 -1901 28 -54 111 -142 164 -173\r\n        101 -59 25 -57 1517 -54 l1364 3 58 23 c72 29 172 120 210 191 58 106 57 70\r\n        57 1496 0 794 -4 1333 -10 1369 -5 32 -23 88 -40 125 -28 61 -69 104 -488 522\r\n        -422 422 -462 459 -527 490 l-70 34 -965 2 c-901 2 -969 1 -1020 -16z m1928\r\n        -315 c15 -8 215 -203 444 -433 360 -362 417 -423 423 -455 4 -20 4 -41 0 -47\r\n        -4 -7 -96 -11 -278 -11 -291 0 -366 9 -448 50 -54 28 -142 111 -173 164 -51\r\n        88 -56 126 -56 448 l0 298 30 0 c17 0 43 -6 58 -14z m419 -1662 c98 -73 98\r\n        -195 0 -268 -28 -21 -31 -21 -937 -21 -906 0 -909 0 -937 21 -89 66 -99 179\r\n        -21 251 12 12 34 26 48 32 16 6 340 9 922 8 893 -2 897 -2 925 -23z m0 -640\r\n        c98 -73 98 -195 0 -268 -28 -21 -31 -21 -937 -21 -906 0 -909 0 -937 21 -89\r\n        66 -99 179 -21 251 12 12 34 26 48 32 16 6 340 9 922 8 893 -2 897 -2 925 -23z\r\n        m0 -640 c98 -73 98 -195 0 -268 -28 -21 -31 -21 -937 -21 -906 0 -909 0 -937\r\n        21 -89 66 -99 179 -21 251 12 12 34 26 48 32 16 6 340 9 922 8 893 -2 897 -2\r\n        925 -23z\"/>\r\n      </g>\r\n    </svg>\r\n    <div className=\"title\">\r\n      Ouvrir\r\n    </div>\r\n  </div>\r\n  <div className=\"message-body-message-text\">\r\n    {message.text}\r\n  </div>\r\n</div>\r\n                */","map":{"version":3,"sources":["C:/Users/anton/Desktop/collaps-chat/dev/Beta/V1/client/src/components/container/Messages.js"],"names":["React","Messages","client","selectedChannel","messagesChannels","recipients","messagesPast","messages","messagesLive","length","find","messagesChannel","id","MessagesArr","concat","console","log","lastSenderNow","lastSenderPass","map","message","index","pseudo","sender","recipient","avatar_url","date","text"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,QAAT,CAAkB;AAACC,EAAAA,MAAD;AAASC,EAAAA,eAAT;AAA0BC,EAAAA;AAA1B,CAAlB,EAA+D;AAE5E,QAAMC,UAAU,GAAGF,eAAe,CAACE,UAAnC;AACA,QAAMC,YAAY,GAAGH,eAAe,CAACI,QAArC;AACA,QAAMC,YAAY,GAAGJ,gBAAgB,CAACK,MAAjB,KAA4B,CAA5B,GAAgC,EAAhC,GAAqCL,gBAAgB,CAACM,IAAjB,CAAsBC,eAAe,IAAIA,eAAe,CAACC,EAAhB,KAAuBT,eAAe,CAACS,EAAhF,EAAoFL,QAA9I,CAJ4E,CAM5E;;AACA,QAAMM,WAAW,GAAGP,YAAY,CAACQ,MAAb,CAAoBN,YAApB,CAApB;AAEAO,EAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ,EAT4E,CAW5E;AACA;AACA;AACA;AACA;AACA;;AAEAI,EAAAA,aAAa,KAAKC,cAAlB;AAEA,sBACE,0CAEIL,WAAW,CAACM,GAAZ,CAAgB,CAACC,OAAD,EAAUC,KAAV,KAAoB;AAElC;AACA,UAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,KAAmBrB,MAAM,CAACU,EAA1B,GAA+BV,MAAM,CAACoB,MAAtC,GAA+CnB,eAAe,CAACE,UAAhB,CAA2BK,IAA3B,CAAgCc,SAAS,IAAIA,SAAS,CAACZ,EAAV,KAAiBQ,OAAO,CAACG,MAAtE,EAA8ED,MAA5I;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,8BAAf;AAA8C,MAAA,GAAG,EAAED,KAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AACE,MAAA,GAAG,EAAG,GAAEnB,MAAM,CAACuB,UAAW,GAAEL,OAAO,CAACG,MAAO,EAD7C;AAEE,MAAA,GAAG,EAAC,aAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAME;AAAI,MAAA,SAAS,EAAC,6BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,MADH,CADF,eAIE;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGF,OAAO,CAACM,IADX,CAJF,CANF,eAcE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGN,OAAO,CAACO,IADX,CAdF,CADF;AAoBD,GAzBD,CAFJ,CADF;AAgCD;AACD","sourcesContent":["import React from 'react';\r\n\r\nexport default function Messages({client, selectedChannel, messagesChannels}) {\r\n\r\n  const recipients = selectedChannel.recipients\r\n  const messagesPast = selectedChannel.messages\r\n  const messagesLive = messagesChannels.length === 0 ? [] : messagesChannels.find(messagesChannel => messagesChannel.id === selectedChannel.id).messages\r\n  \r\n  // Jonction des messages de la base de données et des messages en direct\r\n  const MessagesArr = messagesPast.concat(messagesLive);\r\n  \r\n  console.log(MessagesArr)\r\n\r\n  //^ Pas utlisé pour le moment\r\n  // Détecte si plus de deux messages a la suite sont du même destinataire\r\n  //var lastSenderPass = lastSenderNow;\r\n  //lastSenderNow = message.sender;\r\n  //lastSenderNow !== lastSenderPass // True si pas le meme\r\n  //^\r\n\r\n  lastSenderNow !== lastSenderPass\r\n\r\n  return (\r\n    <>\r\n      {\r\n        MessagesArr.map((message, index) => {\r\n\r\n          // Récupération du pseudo\r\n          const pseudo = message.sender === client.id ? client.pseudo : selectedChannel.recipients.find(recipient => recipient.id === message.sender).pseudo\r\n\r\n          return (\r\n            <div className=\"message-body-message parents\" key={index}>\r\n              <div className=\"message-body-message-avatar\">\r\n                <img className=\"avatar\"\r\n                  src={`${client.avatar_url}${message.sender}`}\r\n                  alt=\"user profil\" />\r\n              </div>\r\n              <h2 className=\"message-body-message-header\">\r\n                <span className=\"pseudo\">\r\n                  {pseudo}\r\n                </span>\r\n                <span className=\"timestamp\">\r\n                  {message.date}\r\n                </span>\r\n              </h2>\r\n              <div className=\"message-body-message-text\">\r\n                {message.text}\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </>\r\n  )\r\n}\r\n/*\r\n\r\n\r\n<div className=\"message-body-message parents\" key={index}>\r\n  <div className=\"message-body-message-avatar\">\r\n    <img className=\"avatar\"\r\n      src={client == null ? null : message.sender.id === client.id ? `${client.avatar_url}${client.id}` : `${client.avatar_url}${message.sender}`}\r\n      alt=\"user profil\" />\r\n  </div>\r\n  <h2 className=\"message-body-message-header\">\r\n    <span className=\"pseudo\">\r\n      {pseudo}\r\n    </span>\r\n    <span className=\"timestamp\">\r\n      {date}\r\n    </span>\r\n  </h2>\r\n  <div className=\"message-body-message-text\">\r\n    {message.text}\r\n  </div>\r\n</div>\r\n:\r\n<div className=\"message-body-message children\" key={index}>\r\n  <div onClick={() => handleOpenFile(message.file)} className=\"message-body-message-file\">\r\n    <svg className=\"icon\" viewBox=\"0 0 512 512\" width=\"24\" height=\"24\" x=\"0\" y=\"0\">\r\n      <g fill=\"currentColor\" stroke=\"none\" transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\">\r\n        <path d=\"M1150 4671 c-30 -9 -73 -29 -95 -43 -53 -33 -128 -115 -155 -168 -51\r\n        -100 -50 -48 -50 -1900 0 -1853 -1 -1800 50 -1901 28 -54 111 -142 164 -173\r\n        101 -59 25 -57 1517 -54 l1364 3 58 23 c72 29 172 120 210 191 58 106 57 70\r\n        57 1496 0 794 -4 1333 -10 1369 -5 32 -23 88 -40 125 -28 61 -69 104 -488 522\r\n        -422 422 -462 459 -527 490 l-70 34 -965 2 c-901 2 -969 1 -1020 -16z m1928\r\n        -315 c15 -8 215 -203 444 -433 360 -362 417 -423 423 -455 4 -20 4 -41 0 -47\r\n        -4 -7 -96 -11 -278 -11 -291 0 -366 9 -448 50 -54 28 -142 111 -173 164 -51\r\n        88 -56 126 -56 448 l0 298 30 0 c17 0 43 -6 58 -14z m419 -1662 c98 -73 98\r\n        -195 0 -268 -28 -21 -31 -21 -937 -21 -906 0 -909 0 -937 21 -89 66 -99 179\r\n        -21 251 12 12 34 26 48 32 16 6 340 9 922 8 893 -2 897 -2 925 -23z m0 -640\r\n        c98 -73 98 -195 0 -268 -28 -21 -31 -21 -937 -21 -906 0 -909 0 -937 21 -89\r\n        66 -99 179 -21 251 12 12 34 26 48 32 16 6 340 9 922 8 893 -2 897 -2 925 -23z\r\n        m0 -640 c98 -73 98 -195 0 -268 -28 -21 -31 -21 -937 -21 -906 0 -909 0 -937\r\n        21 -89 66 -99 179 -21 251 12 12 34 26 48 32 16 6 340 9 922 8 893 -2 897 -2\r\n        925 -23z\"/>\r\n      </g>\r\n    </svg>\r\n    <div className=\"title\">\r\n      Ouvrir\r\n    </div>\r\n  </div>\r\n  <div className=\"message-body-message-text\">\r\n    {message.text}\r\n  </div>\r\n</div>\r\n                */"]},"metadata":{},"sourceType":"module"}