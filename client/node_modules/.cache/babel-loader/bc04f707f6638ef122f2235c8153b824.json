{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anton\\\\Desktop\\\\FInt.Tchat\\\\dev\\\\V8\\\\client\\\\src\\\\contexts\\\\UserProvider.js\";\nimport React, { useContext, useState } from 'react';\nimport api from \"../api\";\nimport SocketContext from './SocketProvider';\nconst UserContext = React.createContext();\nexport function useUser() {\n  return useContext(UserContext);\n}\nexport function UserProvider({\n  id,\n  children\n}) {\n  const [state, setState] = useState(null);\n  useEffect(() => {\n    setState({\n      user: null,\n      isLoaded: false,\n      requesting: true,\n      error: null\n    });\n    console.log(state);\n\n    if (state.requesting) {\n      setState({\n        isLoaded: true\n      });\n      api.getUserById(state.id).then(user => {\n        setState({\n          user: user.data.data,\n          isLoaded: false,\n          requesting: false\n        });\n      }, error => {\n        setState({\n          isLoaded: false,\n          requesting: false,\n          error\n        });\n      });\n    }\n  });\n  /*\r\n  createUser = () => {\r\n    }\r\n    updateUser = () => {\r\n    }\r\n    deleteUser = () => {\r\n    }*/\n  //const socket = this.context.socket\n\n  /*\r\n  socket.on('user-disconnected', name => {\r\n    console.log(\"test\")\r\n  })\r\n  */\n\n  const value = {\n    user: state.user\n  };\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, children);\n}\nexport default UserContext;","map":{"version":3,"sources":["C:/Users/anton/Desktop/FInt.Tchat/dev/V8/client/src/contexts/UserProvider.js"],"names":["React","useContext","useState","api","SocketContext","UserContext","createContext","useUser","UserProvider","id","children","state","setState","useEffect","user","isLoaded","requesting","error","console","log","getUserById","then","data","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AAEA,OAAOC,GAAP,MAAgB,QAAhB;AAEA,OAAOC,aAAP,MAA0B,kBAA1B;AAEA,MAAMC,WAAW,GAAGL,KAAK,CAACM,aAAN,EAApB;AAEA,OAAO,SAASC,OAAT,GAAmB;AACxB,SAAON,UAAU,CAACI,WAAD,CAAjB;AACD;AAED,OAAO,SAASG,YAAT,CAAsB;AAAEC,EAAAA,EAAF;AAAMC,EAAAA;AAAN,CAAtB,EAAwC;AAC7C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;AAEAW,EAAAA,SAAS,CAAC,MAAM;AAChBD,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAE,IADC;AAEPC,MAAAA,QAAQ,EAAE,KAFH;AAGPC,MAAAA,UAAU,EAAE,IAHL;AAIPC,MAAAA,KAAK,EAAE;AAJA,KAAD,CAAR;AAMAC,IAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;;AACA,QAAIA,KAAK,CAACK,UAAV,EAAsB;AACpBJ,MAAAA,QAAQ,CAAC;AACPG,QAAAA,QAAQ,EAAE;AADH,OAAD,CAAR;AAGAZ,MAAAA,GAAG,CAACiB,WAAJ,CAAgBT,KAAK,CAACF,EAAtB,EAA0BY,IAA1B,CACGP,IAAD,IAAU;AACRF,QAAAA,QAAQ,CAAC;AACPE,UAAAA,IAAI,EAAEA,IAAI,CAACQ,IAAL,CAAUA,IADT;AAEPP,UAAAA,QAAQ,EAAE,KAFH;AAGPC,UAAAA,UAAU,EAAE;AAHL,SAAD,CAAR;AAKD,OAPH,EAQGC,KAAD,IAAW;AACTL,QAAAA,QAAQ,CAAC;AACPG,UAAAA,QAAQ,EAAE,KADH;AAEPC,UAAAA,UAAU,EAAE,KAFL;AAGPC,UAAAA;AAHO,SAAD,CAAR;AAKD,OAdH;AAgBD;AACF,GA7BU,CAAT;AA+BA;;;;;;;AAYA;;AACA;;;;;;AAKA,QAAMM,KAAK,GAAG;AACZT,IAAAA,IAAI,EAAEH,KAAK,CAACG;AADA,GAAd;AAIA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAES,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGb,QADH,CADF;AAKD;AAED,eAAeL,WAAf","sourcesContent":["import React, { useContext, useState } from 'react'\r\n\r\nimport api from \"../api\"\r\n\r\nimport SocketContext from './SocketProvider';\r\n\r\nconst UserContext = React.createContext()\r\n\r\nexport function useUser() {\r\n  return useContext(UserContext)\r\n}\r\n\r\nexport function UserProvider({ id, children }) {\r\n  const [state, setState] = useState(null)\r\n\r\n  useEffect(() => {\r\n  setState({\r\n    user: null,\r\n    isLoaded: false,\r\n    requesting: true,\r\n    error: null\r\n  });\r\n  console.log(state)\r\n  if (state.requesting) {\r\n    setState({\r\n      isLoaded: true\r\n    });\r\n    api.getUserById(state.id).then(\r\n      (user) => {\r\n        setState({\r\n          user: user.data.data,\r\n          isLoaded: false,\r\n          requesting: false\r\n        });\r\n      },\r\n      (error) => {\r\n        setState({\r\n          isLoaded: false,\r\n          requesting: false,\r\n          error\r\n        });\r\n      }\r\n    )\r\n  }\r\n})\r\n\r\n  /*\r\n  createUser = () => {\r\n\r\n  }\r\n\r\n  updateUser = () => {\r\n\r\n  }\r\n\r\n  deleteUser = () => {\r\n\r\n  }*/\r\n  //const socket = this.context.socket\r\n  /*\r\n  socket.on('user-disconnected', name => {\r\n    console.log(\"test\")\r\n  })\r\n  */\r\n  const value = {\r\n    user: state.user\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider value={value}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default UserContext"]},"metadata":{},"sourceType":"module"}