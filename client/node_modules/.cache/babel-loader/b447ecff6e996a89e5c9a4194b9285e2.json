{"ast":null,"code":"import React from 'react';\nexport const apiStates = {\n  LOADING: 'LOADING',\n  SUCCESS: 'SUCCESS',\n  ERROR: 'ERROR'\n};\nexport const useExternalStorage = url => {\n  const [data, setData] = React.useState({\n    state: apiStates.LOADING,\n    error: '',\n    data: []\n  });\n\n  const setPartData = partialData => setData({ ...data,\n    ...partialData\n  });\n\n  React.useEffect(() => {\n    setPartData({\n      state: apiStates.LOADING\n    });\n    fetch(url).then(response => response.json()).then(data => {\n      setPartData({\n        state: apiStates.SUCCESS,\n        data\n      });\n    }).catch(() => {\n      setPartData({\n        state: apiStates.ERROR,\n        error: 'fetch failed'\n      });\n    });\n  }, []);\n  return data;\n};","map":{"version":3,"sources":["C:/Users/anton/Desktop/FInt.Tchat/dev/V10/client/src/hooks/useExternalStorage.js"],"names":["React","apiStates","LOADING","SUCCESS","ERROR","useExternalStorage","url","data","setData","useState","state","error","setPartData","partialData","useEffect","fetch","then","response","json","catch"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,SAAS,GAAG;AACvBC,EAAAA,OAAO,EAAE,SADc;AAEvBC,EAAAA,OAAO,EAAE,SAFc;AAGvBC,EAAAA,KAAK,EAAE;AAHgB,CAAlB;AAMP,OAAO,MAAMC,kBAAkB,GAAGC,GAAG,IAAI;AACvC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,KAAK,CAACS,QAAN,CAAe;AACrCC,IAAAA,KAAK,EAAET,SAAS,CAACC,OADoB;AAErCS,IAAAA,KAAK,EAAE,EAF8B;AAGrCJ,IAAAA,IAAI,EAAE;AAH+B,GAAf,CAAxB;;AAMA,QAAMK,WAAW,GAAIC,WAAD,IAAiBL,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAW,OAAGM;AAAd,GAAD,CAA5C;;AAEAb,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AACpBF,IAAAA,WAAW,CAAC;AACVF,MAAAA,KAAK,EAAET,SAAS,CAACC;AADP,KAAD,CAAX;AAGAa,IAAAA,KAAK,CAACT,GAAD,CAAL,CACGU,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAEST,IAAD,IAAU;AACdK,MAAAA,WAAW,CAAC;AACVF,QAAAA,KAAK,EAAET,SAAS,CAACE,OADP;AAEVI,QAAAA;AAFU,OAAD,CAAX;AAID,KAPH,EAQGY,KARH,CAQS,MAAM;AACZP,MAAAA,WAAW,CAAC;AACTF,QAAAA,KAAK,EAAET,SAAS,CAACG,KADR;AAETO,QAAAA,KAAK,EAAE;AAFE,OAAD,CAAX;AAIA,KAbH;AAcD,GAlBD,EAkBG,EAlBH;AAoBA,SAAOJ,IAAP;AACD,CA9BM","sourcesContent":["import React from 'react';\n\nexport const apiStates = {\n  LOADING: 'LOADING',\n  SUCCESS: 'SUCCESS',\n  ERROR: 'ERROR',\n};\n\nexport const useExternalStorage = url => {\n  const [data, setData] = React.useState({\n    state: apiStates.LOADING,\n    error: '',\n    data: [],\n  });\n\n  const setPartData = (partialData) => setData({ ...data, ...partialData });\n\n  React.useEffect(() => {\n    setPartData({\n      state: apiStates.LOADING,\n    });\n    fetch(url)\n      .then((response) => response.json())\n      .then((data) => {\n        setPartData({\n          state: apiStates.SUCCESS,\n          data\n        });\n      })\n      .catch(() => {\n       setPartData({\n          state: apiStates.ERROR,\n          error: 'fetch failed'\n        });\n      });\n  }, []);\n\n  return data;\n};\n"]},"metadata":{},"sourceType":"module"}